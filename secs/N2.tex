\begin{prob}
  Sia $x_n$ una successione che parte da $x_0$ intero e così definita: \\ $x_{n+1}=-2x_n+3$. È vero che essa contiene infiniti quadrati perfetti solo se $x_0=1$?
\end{prob}

\begin{sol}
  Se l'affermazione fosse falsa credo che il metodo più ovvio di dimostrarla sarebbe con un controesempio, e visto che se ci fosse un controesempio semplice il problema sarebbe idiota non voglio perdere tempo a cercarlo, quindi punto su "l'affermazione è vera" (se poi c'è davvero un controesempio semplice avrò perso un sacco di tempo).

  Bene, quand'è che $3-2a=m^2$? Dev'essre $a \equiv m^2 \pmod{3}$. Allora $a \equiv 0 \lor 1 \pmod{3}$. In generale non ci dice nulla... no, falso: ci dice che zero non può essere percHè dopo non ci sarebbe un quadrato... no, controfalso: dice infiniti, ma non tutti, né definitivamente (ce ne sono infiniti=frequentemente). Ok, modulo $3$ è quasi inutile, modulo $2$ non ci provo nemmeno.

  Facciamo qualche manipolazione: $2a+1=4-m^2=(2+m)(2-m)$. Non mi dice niente. Mi viene da pensare alla grandezza e al segno dei termini della successione, però non so. Beh, in effetti se $x_n>0$ allora $x_{n+1}$ è un quadrato se e solo se $x_n=1$ e allora dev'essere tutto $1$. Sarei tentato di provare una cosa tipo $x_{n-1}=\dfrac{3-x_n}{2}$. Oppure mi accorgo che sono un coglione e che c'è una formula generica in funzione di $x_0$ da poter studiare... faccio i conti e vi faccio sapere.

  Eccomi: $x_n=3\cdot((-2)^n-1)+(-2)^nx_0$. Ok, adesso modulo $2^n$ forse si può dire qualcosa, vediamo. Uh, forse non riesco più a fare i conti bene... $x_n=1-(-2)^n+(-2)^nx_0$, adesso garantisco che è quella giusta. Se $x_0$ è negativo $x_1$ è positivo, quindi WLOG $x_0>0$ e se $x_0=1$ è sempre $1$, se $x_0 \ge 2$ allora $x_n$ è negativo per i dispari, quindi dobbiamo guardare agli $n$ pari: $n=2m$, allora vogliamo studiare $1-4^m+4^mx_0$. Ho una certa voglia di tornare ai moduli, ma non sono sicuro che funzionino. Adesso devo andare, riprenderò dopo.

  Nuova idea: stringere tra quadrati. Definitivamente $1-4^m+4^mx_0<(1-4^m)^2$... vero? Cercando di non sbagliare i conti, $4^{2m}>4^m(x_0+1)$, sì, sembra definitivamente vero. Sarà anche definitivamente maggiore del quadrato successivo? Mai nella vita, quello pure va come $4^{2m}$. Per stargli sotto i quadrati devono essere dell'ordine di $2^{2m}$, una cosa del tipo $(2^m)^2 < 1-4^m+4^mx_0$. In effetti è ovvio: se voglio stimare questa cosa tra due quadrati devo stimare la sua radice quadrata, che va circa come $2^m\lfloor\sqrt{x_0-1}\rfloor$. Ovviamente $(2^m\lfloor\sqrt{x_0-1}\rfloor)^2 \le 4^m(x_0-1)<4^mx_0-4^m+1$.
  $(2^m\lfloor\sqrt{x_0-1}\rfloor+1)^2=4^m(\lfloor\sqrt{x_0-1}\rfloor)^2+2^{m+1}\lfloor\sqrt{x_0-1}\rfloor+1 > 4^m(\sqrt{x_0-1}-1)^2+2^{m+1}(\sqrt{x_0-1}-1)+1$ dove in questo passaggio può servire che $x_0 \ge 2$ per evitare che il quadrato diventi più grande e la disuguaglianza non sia più vera, come effettivamente accade per $x_0=1$ (oddio in realtà ricontrollando no, però va comunque specificata 'sta cosa per poi fare il caso strano a parte).
  Tornando a noi, $4^m(\sqrt{x_0-1}-1)^2+2^{m+1}(\sqrt{x_0-1}-1)+1=4^mx_0-2\cdot4^m\sqrt{x_0-1}+4^m+1+2\cdot2^m(\sqrt{x_0-1}-1)+1$... non mi sembra avere molte speranze. Fatemi rivedere com'è fatta la versione con ancora le parti intere.Vogliamo $4^m(\lfloor\sqrt{x_0-1}\rfloor)^2+2^{m+1}\lfloor\sqrt{x_0-1}\rfloor+1 > 4^mx_0-4^m+1$.
  Purtroppo però in generale $x_0-1>(\lfloor\sqrt{x_0-1}\rfloor)^2$, quindi è falso. Sto avendo idee sul prendere $x_0=y^2$ per usare $y$. Ok, proviamo.

  WLOG $x_0=y^2$, sennò bella, abbiamo finito. Definitivamente $(2^my)^2>4^my^2-4^m+1$. E $(2^my-1)^2$? $(2^my-1)^2 =4^my^2-4^my+1<4^my^2-4^m+1$ per $y>1$. Yeee, in tre righe ho chiuso l'dea del paragrafo precedente. Potevo essere più veloce, ma almeno ho proseguito nella giusta strada.
\end{sol}
